{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-10-31 11:00:12"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-10-31 11:00:12"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-10-31 11:00:12"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:12"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:15"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:16"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:16"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:16"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:18"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:19"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-10-31 11:00:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-10-31 11:00:23"}
{"level":"http","message":"\u001b[0mGET / \u001b[33m404\u001b[0m 7.680 ms - 47\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:01:49"}
{"level":"http","message":"\u001b[0mGET /favicon.ico \u001b[33m404\u001b[0m 1.319 ms - 58\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:01:49"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:40"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:41"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:18:42"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"info","message":"Server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-10-31 11:18:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '3ec6ca1d-f212-4194-b0d7-dbbeba95f805';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '3ec6ca1d-f212-4194-b0d7-dbbeba95f805';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'vickyvic7044@gmail.com';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'vickyvic7044@gmail.com';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 773.902 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"errors":[{"instance":{"avatar":null,"azureId":"3ec6ca1d-f212-4194-b0d7-dbbeba95f805","createdAt":"2025-10-31T05:49:20.200Z","displayName":"Vikas","email":"vickyvic7044@gmail.com","id":"1fcddd92-4742-46f8-810b-d4841e6f7333","lastLogin":"2025-10-31T05:49:20.198Z","updatedAt":"2025-10-31T05:49:20.200Z"},"message":"email must be unique","origin":"DB","path":"email","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"vickyvic7044@gmail.com"}],"fields":{"email":"vickyvic7044@gmail.com"},"level":"error","message":"Azure auth error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"23505","constraint":"users_email_key80","detail":"Key (email)=(vickyvic7044@gmail.com) already exists.","file":"nbtinsert.c","length":218,"line":"666","name":"error","parameters":["1fcddd92-4742-46f8-810b-d4841e6f7333","vickyvic7044@gmail.com","Vikas","3ec6ca1d-f212-4194-b0d7-dbbeba95f805",null,"2025-10-31 05:49:20.198 +00:00","2025-10-31 05:49:20.200 +00:00","2025-10-31 05:49:20.200 +00:00"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","table":"users"},"parent":{"code":"23505","constraint":"users_email_key80","detail":"Key (email)=(vickyvic7044@gmail.com) already exists.","file":"nbtinsert.c","length":218,"line":"666","name":"error","parameters":["1fcddd92-4742-46f8-810b-d4841e6f7333","vickyvic7044@gmail.com","Vikas","3ec6ca1d-f212-4194-b0d7-dbbeba95f805",null,"2025-10-31 05:49:20.198 +00:00","2025-10-31 05:49:20.200 +00:00","2025-10-31 05:49:20.200 +00:00"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","table":"users"},"service":"nextbi-backend","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","stack":"Error\n    at Query.run (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.insert (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:795:21)\n    at async User.save (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\model.js:4154:35)\n    at async Function.create (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\model.js:2305:12)\n    at async azureAuth (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\src\\controllers\\auth.controller.ts:44:16)","timestamp":"2025-10-31 11:19:20"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[31m500\u001b[0m 1352.826 ms - 51\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:19:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 191.683 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 267.322 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:19:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 367.432 ms - 585\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[36m304\u001b[0m 146.700 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 176.611 ms - 455\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[36m304\u001b[0m 104.097 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = 'a88828af-a9a5-4e36-8022-10504f0c20a6';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:14"}
{"level":"http","message":"\u001b[0mGET /api/connections/a88828af-a9a5-4e36-8022-10504f0c20a6/schema \u001b[32m200\u001b[0m 402.914 ms - 183\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[36m304\u001b[0m 95.180 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[36m304\u001b[0m 104.679 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:22"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = 'f601fa3b-7922-4c5b-a8dd-dbe581b8ed8a';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:22"}
{"level":"debug","message":"Executing (default): UPDATE \"database_connections\" SET \"lastTestedAt\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"http","message":"\u001b[0mPOST /api/connections/f601fa3b-7922-4c5b-a8dd-dbe581b8ed8a/test \u001b[32m200\u001b[0m 1593.355 ms - 119\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = 'a88828af-a9a5-4e36-8022-10504f0c20a6';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"debug","message":"Executing (default): UPDATE \"database_connections\" SET \"lastTestedAt\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"http","message":"\u001b[0mPOST /api/connections/a88828af-a9a5-4e36-8022-10504f0c20a6/test \u001b[32m200\u001b[0m 372.374 ms - 119\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 402.960 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 146.861 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:20:50"}
{"level":"debug","message":"Executing (default): INSERT INTO \"projects\" (\"id\",\"name\",\"description\",\"creatorId\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"name\",\"description\",\"creatorId\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:50"}
{"level":"debug","message":"Executing (default): INSERT INTO \"project_users\" (\"id\",\"projectId\",\"userId\",\"role\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"projectId\",\"userId\",\"role\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:20:50"}
{"level":"http","message":"\u001b[0mPOST /api/project \u001b[32m201\u001b[0m 449.409 ms - 235\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:20:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('6ed7e8e4-dbb4-4dd0-8669-14e1fed99b75');","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 443.694 ms - 377\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd65de329-0b11-4b05-938a-dabd476afdcd';","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('6ed7e8e4-dbb4-4dd0-8669-14e1fed99b75');","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 155.917 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:23:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'vickyvic7044@gmail.com';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'vickyvic7044@gmail.com';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 480.783 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"errors":[{"instance":{"avatar":null,"azureId":"803b8afd-6e84-41c3-a44b-809e1b196cf4","createdAt":"2025-10-31T06:16:47.678Z","displayName":"Vikas","email":"vickyvic7044@gmail.com","id":"4fa3e468-c294-49ae-bbed-4f5530bad790","lastLogin":"2025-10-31T06:16:47.677Z","updatedAt":"2025-10-31T06:16:47.678Z"},"message":"email must be unique","origin":"DB","path":"email","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"vickyvic7044@gmail.com"}],"fields":{"email":"vickyvic7044@gmail.com"},"level":"error","message":"Azure auth error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"23505","constraint":"users_email_key80","detail":"Key (email)=(vickyvic7044@gmail.com) already exists.","file":"nbtinsert.c","length":218,"line":"666","name":"error","parameters":["4fa3e468-c294-49ae-bbed-4f5530bad790","vickyvic7044@gmail.com","Vikas","803b8afd-6e84-41c3-a44b-809e1b196cf4",null,"2025-10-31 06:16:47.677 +00:00","2025-10-31 06:16:47.678 +00:00","2025-10-31 06:16:47.678 +00:00"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","table":"users"},"parent":{"code":"23505","constraint":"users_email_key80","detail":"Key (email)=(vickyvic7044@gmail.com) already exists.","file":"nbtinsert.c","length":218,"line":"666","name":"error","parameters":["4fa3e468-c294-49ae-bbed-4f5530bad790","vickyvic7044@gmail.com","Vikas","803b8afd-6e84-41c3-a44b-809e1b196cf4",null,"2025-10-31 06:16:47.677 +00:00","2025-10-31 06:16:47.678 +00:00","2025-10-31 06:16:47.678 +00:00"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","table":"users"},"service":"nextbi-backend","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","stack":"Error\n    at Query.run (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.insert (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:795:21)\n    at async User.save (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\model.js:4154:35)\n    at async Function.create (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\node_modules\\sequelize\\src\\model.js:2305:12)\n    at async azureAuth (C:\\Users\\Sathya Prakash\\Videos\\NextBI-main\\backend\\src\\controllers\\auth.controller.ts:44:16)","timestamp":"2025-10-31 11:46:47"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[31m500\u001b[0m 555.263 ms - 51\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:46:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:48"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:46:48"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 145.810 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:46:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 139.798 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[36m304\u001b[0m 139.715 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:46:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 336.585 ms - 585\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[36m304\u001b[0m 147.342 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[36m304\u001b[0m 149.397 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'd0411056-b8a1-4888-bbb3-a86515a6e724';","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[36m304\u001b[0m 96.928 ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-10-31 11:47:05"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-10 11:58:53"}
{"level":"info","message":"Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-10 11:58:54"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-10 11:58:54"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:54"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:54"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:55"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:55"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:55"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:55"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:58:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:59:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:59:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:59:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:59:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'railway'","service":"nextbi-backend","timestamp":"2025-11-10 11:59:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-10 11:59:04"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 12:28:33"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 12:34:01"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 12:42:48"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 12:44:11"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 12:49:02"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 12:51:22"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 12:52:42"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 14:49:42"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 15:39:03"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 15:43:50"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 15:44:28"}
{"level":"error","message":"Unable to connect to the database: read ECONNRESET","name":"SequelizeConnectionError","original":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"parent":{"code":"ECONNRESET","errno":-4077,"syscall":"read"},"service":"nextbi-backend","stack":"SequelizeConnectionError: read ECONNRESET\n    at Client._connectionCallback (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\connection-manager.js:196:24)\n    at Client._handleErrorWhileConnecting (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:336:19)\n    at Client._handleErrorEvent (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\client.js:346:19)\n    at Connection.emit (node:events:519:28)\n    at Connection.emit (node:domain:489:12)\n    at Socket.reportStreamError (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\pg\\lib\\connection.js:57:12)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at emitErrorNT (node:internal/streams/destroy:170:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:129:3)","timestamp":"2025-11-10 15:50:32"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-10 15:58:33"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-10 15:58:34"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-10 15:58:34"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-10 15:58:34"}
{"level":"debug","message":"Executing (default): CREATE TABLE IF NOT EXISTS \"users\" (\"id\" UUID NOT NULL , \"email\" VARCHAR(255) NOT NULL UNIQUE, \"displayName\" VARCHAR(255) NOT NULL, \"azureId\" VARCHAR(255) UNIQUE, \"avatar\" VARCHAR(255), \"lastLogin\" TIMESTAMP WITH TIME ZONE, \"createdAt\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updatedAt\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:34"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 15:58:34"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-10 15:58:34"}
{"level":"debug","message":"Executing (default): CREATE TABLE IF NOT EXISTS \"projects\" (\"id\" UUID NOT NULL , \"name\" VARCHAR(255) NOT NULL, \"description\" TEXT, \"creatorId\" UUID NOT NULL REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE, \"createdAt\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updatedAt\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:35"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 15:58:35"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-10 15:58:35"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 15:58:35"}
{"level":"debug","message":"Executing (default): DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';","service":"nextbi-backend","timestamp":"2025-11-10 15:58:35"}
{"level":"debug","message":"Executing (default): WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:36"}
{"level":"debug","message":"Executing (default): CREATE TABLE IF NOT EXISTS \"project_users\" (\"id\" UUID NOT NULL , \"projectId\" UUID NOT NULL REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE, \"userId\" UUID NOT NULL REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE, \"role\" \"public\".\"enum_project_users_role\" NOT NULL DEFAULT 'viewer', \"createdAt\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updatedAt\" TIMESTAMP WITH TIME ZONE NOT NULL, UNIQUE (\"projectId\", \"userId\"), PRIMARY KEY (\"id\"));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:36"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 15:58:36"}
{"level":"debug","message":"Executing (default): CREATE UNIQUE INDEX \"project_users_project_id_user_id\" ON \"project_users\" (\"projectId\", \"userId\")","service":"nextbi-backend","timestamp":"2025-11-10 15:58:37"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-10 15:58:37"}
{"level":"debug","message":"Executing (default): CREATE TABLE IF NOT EXISTS \"folders\" (\"id\" UUID NOT NULL , \"name\" VARCHAR(255) NOT NULL, \"description\" TEXT, \"projectId\" UUID NOT NULL REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE, \"createdAt\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updatedAt\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:37"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 15:58:37"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-10 15:58:37"}
{"level":"debug","message":"Executing (default): CREATE TABLE IF NOT EXISTS \"dashboards\" (\"id\" UUID NOT NULL , \"name\" VARCHAR(255) NOT NULL, \"description\" TEXT, \"folderId\" UUID NOT NULL REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE, \"layout\" JSONB, \"createdAt\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updatedAt\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:38"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 15:58:38"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-10 15:58:38"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 15:58:38"}
{"level":"debug","message":"Executing (default): DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';","service":"nextbi-backend","timestamp":"2025-11-10 15:58:38"}
{"level":"debug","message":"Executing (default): WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:39"}
{"level":"debug","message":"Executing (default): CREATE TABLE IF NOT EXISTS \"database_connections\" (\"id\" UUID NOT NULL , \"name\" VARCHAR(255) NOT NULL, \"type\" VARCHAR(255) NOT NULL DEFAULT 'postgresql', \"host\" VARCHAR(255) NOT NULL, \"port\" INTEGER NOT NULL DEFAULT 5432, \"database\" VARCHAR(255) NOT NULL, \"username\" VARCHAR(255) NOT NULL, \"password\" VARCHAR(255) NOT NULL, \"ssl\" BOOLEAN NOT NULL DEFAULT false, \"options\" JSONB, \"status\" \"public\".\"enum_database_connections_status\" NOT NULL DEFAULT 'inactive', \"lastTestedAt\" TIMESTAMP WITH TIME ZONE, \"createdById\" UUID NOT NULL REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE, \"createdAt\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updatedAt\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:39"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 15:58:39"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-10 15:58:40"}
{"level":"debug","message":"Executing (default): CREATE TABLE IF NOT EXISTS \"data_models\" (\"id\" UUID NOT NULL , \"name\" VARCHAR(255) NOT NULL, \"description\" TEXT, \"connectionId\" UUID NOT NULL REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE, \"schema\" JSONB NOT NULL DEFAULT '{}', \"query\" TEXT, \"refreshSchedule\" VARCHAR(255), \"lastRefreshedAt\" TIMESTAMP WITH TIME ZONE, \"createdById\" UUID NOT NULL REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE, \"createdAt\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updatedAt\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:40"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 15:58:40"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-10 15:58:40"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 15:58:40"}
{"level":"debug","message":"Executing (default): DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';","service":"nextbi-backend","timestamp":"2025-11-10 15:58:41"}
{"level":"debug","message":"Executing (default): WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:41"}
{"level":"debug","message":"Executing (default): CREATE TABLE IF NOT EXISTS \"tiles\" (\"id\" UUID NOT NULL , \"title\" VARCHAR(255) NOT NULL, \"type\" \"public\".\"enum_tiles_type\" NOT NULL, \"connectionId\" UUID NOT NULL REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE, \"content\" JSONB NOT NULL DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}', \"position\" JSONB NOT NULL DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}', \"styling\" JSONB NOT NULL DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}', \"dashboardId\" UUID NOT NULL REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE, \"createdAt\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updatedAt\" TIMESTAMP WITH TIME ZONE NOT NULL, \"dataModelId\" UUID REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, PRIMARY KEY (\"id\"));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:41"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 15:58:41"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-10 15:58:42"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 15:58:42"}
{"level":"debug","message":"Executing (default): DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';","service":"nextbi-backend","timestamp":"2025-11-10 15:58:42"}
{"level":"debug","message":"Executing (default): WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:42"}
{"level":"debug","message":"Executing (default): CREATE TABLE IF NOT EXISTS \"text_rows\" (\"id\" UUID NOT NULL , \"type\" \"public\".\"enum_text_rows_type\" NOT NULL DEFAULT 'text', \"content\" TEXT NOT NULL DEFAULT '', \"isQuery\" BOOLEAN NOT NULL DEFAULT false, \"tileId\" UUID NOT NULL REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE, \"createdAt\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updatedAt\" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY (\"id\"));","service":"nextbi-backend","timestamp":"2025-11-10 15:58:43"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 15:58:43"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-10 15:58:43"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-10 15:58:43"}
{"level":"info","message":"API URL: http://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-10 15:58:43"}
{"level":"http","message":"\u001b[0mGET / \u001b[33m404\u001b[0m 13.730 ms - 47\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:00:17"}
{"level":"http","message":"\u001b[0mGET /favicon.ico \u001b[33m404\u001b[0m 1.870 ms - 58\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:00:17"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-10 16:01:45"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-10 16:01:45"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-10 16:01:45"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:45"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:46"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:47"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:48"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:48"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:48"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:01:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:49"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:49"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:50"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:01:50"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:50"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:01:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:01:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-10 16:01:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:51"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:52"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:52"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:52"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:01:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:53"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:54"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:54"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:54"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:01:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:55"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:56"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:56"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:01:56"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:56"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:01:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:01:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-10 16:01:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:01:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:01:59"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:00"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-10 16:02:00"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:02:00"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:02:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:02:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:02:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:02:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:02:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:03"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:03"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-10 16:02:03"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:02:03"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:02:03"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:02:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:02:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-10 16:02:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:02:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:02:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:02:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:06"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:06"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-10 16:02:07"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:02:07"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:02:07"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:02:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-10 16:02:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:02:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:08"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:02:09"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-10 16:02:09"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-10 16:02:09"}
{"level":"info","message":"API URL: https://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-10 16:02:09"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-10 16:05:43"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-10 16:05:44"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-10 16:05:44"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:44"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:44"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:46"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:46"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:46"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:46"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:05:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:47"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:48"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:48"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:05:48"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:48"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:05:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:05:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-10 16:05:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:50"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:50"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:50"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:50"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:05:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:52"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:52"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:52"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:52"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:05:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:54"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:54"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:54"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:05:54"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:54"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-10 16:05:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:05:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:57"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:58"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:58"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:58"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:05:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:05:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:05:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:05:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:06:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:06:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:01"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:01"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-10 16:06:01"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:06:01"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:06:01"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:06:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:06:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-10 16:06:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:06:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:06:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:06:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:04"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:04"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-10 16:06:05"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:06:05"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:06:05"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:06:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-10 16:06:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:06:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:06"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:06:07"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-10 16:06:07"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-10 16:06:07"}
{"level":"info","message":"API URL: https://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-10 16:06:07"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:11:32"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-10 16:11:34"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'vickyvic7044@gmail.com';","service":"nextbi-backend","timestamp":"2025-11-10 16:11:34"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-10 16:11:34"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-10 16:11:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-10 16:11:44"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-10 16:11:44"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-10 16:11:44"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 1157.918 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:11:44"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 1839.834 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:11:46"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-10 16:15:22"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-10 16:15:22"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-10 16:15:22"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:22"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:22"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:24"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:24"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:24"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:24"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:26"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:26"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:26"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:15:26"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:26"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-10 16:15:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:28"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:28"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:28"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:28"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:29"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:29"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:29"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:29"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:29"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:30"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:30"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:30"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:30"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:32"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:32"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:32"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:15:32"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:33"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-10 16:15:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:36"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:36"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:36"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:36"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:39"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:39"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:39"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:15:39"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:40"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 16:15:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-10 16:15:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:42"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:43"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:43"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 16:15:43"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:43"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 16:15:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-10 16:15:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 16:15:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 16:15:45"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-10 16:15:45"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-10 16:15:45"}
{"level":"info","message":"API URL: https://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-10 16:15:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-10 16:16:12"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = '803b8afd-6e84-41c3-a44b-809e1b196cf4';","service":"nextbi-backend","timestamp":"2025-11-10 16:16:12"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-10 16:16:12"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-10 16:16:12"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 2006.324 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:16:12"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 2090.979 ms - 389\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:16:12"}
{"level":"http","message":"\u001b[0mGET /api \u001b[33m404\u001b[0m 2.736 ms - 50\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:22:03"}
{"level":"http","message":"\u001b[0mGET /favicon.ico \u001b[33m404\u001b[0m 1.004 ms - 58\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:22:03"}
{"level":"http","message":"\u001b[0mGET /api/api/connections \u001b[33m404\u001b[0m 2.139 ms - 66\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:23:22"}
{"level":"http","message":"\u001b[0mGET /api/api/connections \u001b[33m404\u001b[0m 1.843 ms - 66\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:23:46"}
{"level":"http","message":"\u001b[0mGET /api/api/connections \u001b[33m404\u001b[0m 1.238 ms - 66\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:23:50"}
{"level":"http","message":"\u001b[0mGET /api/api/connections \u001b[33m404\u001b[0m 0.920 ms - 66\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:24:09"}
{"level":"http","message":"\u001b[0mGET /api/api/connections \u001b[33m404\u001b[0m 1.510 ms - 66\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:24:09"}
{"level":"http","message":"\u001b[0mGET /api/api/connections \u001b[33m404\u001b[0m 0.878 ms - 66\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:24:59"}
{"level":"http","message":"\u001b[0mGET /api/api/connections \u001b[33m404\u001b[0m 0.897 ms - 66\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:24:59"}
{"level":"http","message":"\u001b[0mGET /api/api/connections \u001b[33m404\u001b[0m 0.736 ms - 66\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:25:51"}
{"level":"http","message":"\u001b[0mGET /api/api/connections \u001b[33m404\u001b[0m 2.720 ms - 66\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:25:51"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:27:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:27:19"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 2300.135 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:27:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:27:22"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:27:23"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 407.798 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:27:23"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:27:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:27:41"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1870.563 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:27:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:27:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:27:42"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 405.726 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:27:42"}
{"level":"http","message":"\u001b[0mGET /api/api/projects/all \u001b[33m404\u001b[0m 0.524 ms - 67\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:27:44"}
{"level":"http","message":"\u001b[0mGET /api/api/projects/all \u001b[33m404\u001b[0m 2.134 ms - 67\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:27:44"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:27:55"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:27:55"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1887.327 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:27:55"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:27:55"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:27:56"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 407.731 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:27:56"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:27:56"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:27:57"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 409.731 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:27:57"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:27:57"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:27:57"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 406.282 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:27:57"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:28:04"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:28:04"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 411.719 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:28:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:28:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:28:05"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 406.224 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:28:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:28:07"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:28:07"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 405.257 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:28:07"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:28:07"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:28:07"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 406.521 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:28:07"}
{"level":"http","message":"\u001b[0mGET /api/api/projects/all \u001b[33m404\u001b[0m 0.829 ms - 67\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:29:29"}
{"level":"http","message":"\u001b[0mGET /api/api/projects/all \u001b[33m404\u001b[0m 0.667 ms - 67\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:29:30"}
{"level":"http","message":"\u001b[0mGET /api/api/projects/all \u001b[33m404\u001b[0m 0.456 ms - 67\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:29:46"}
{"level":"http","message":"\u001b[0mGET /api/api/projects/all \u001b[33m404\u001b[0m 0.901 ms - 67\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:29:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:30:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:30:41"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-10 16:30:41"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 2040.825 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:30:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:30:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:30:44"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-10 16:30:44"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 591.903 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:30:44"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:01"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:01"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-10 16:31:01"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 2015.673 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:02"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:02"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:02"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-10 16:31:02"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 599.313 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:02"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:06"}
{"level":"debug","message":"Executing (default): INSERT INTO \"projects\" (\"id\",\"name\",\"description\",\"creatorId\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"name\",\"description\",\"creatorId\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-10 16:31:07"}
{"level":"debug","message":"Executing (default): INSERT INTO \"project_users\" (\"id\",\"projectId\",\"userId\",\"role\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"projectId\",\"userId\",\"role\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-10 16:31:07"}
{"level":"http","message":"\u001b[0mPOST /api/project \u001b[32m201\u001b[0m 620.963 ms - 233\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:07"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 16:31:11"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '8a89f545-b3f1-41b9-921c-8b805141a24f';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:11"}
{"level":"http","message":"\u001b[0mGET /api/project/8a89f545-b3f1-41b9-921c-8b805141a24f \u001b[32m200\u001b[0m 605.089 ms - 386\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 16:31:12"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 16:31:12"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '8a89f545-b3f1-41b9-921c-8b805141a24f';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:12"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:12"}
{"level":"http","message":"\u001b[0mGET /api/project/8a89f545-b3f1-41b9-921c-8b805141a24f \u001b[32m200\u001b[0m 989.050 ms - 386\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:12"}
{"level":"http","message":"\u001b[0mGET /api/folder/by-project/8a89f545-b3f1-41b9-921c-8b805141a24f \u001b[32m200\u001b[0m 1147.093 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:12"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:12"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 16:31:13"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:13"}
{"level":"http","message":"\u001b[0mGET /api/folder/by-project/8a89f545-b3f1-41b9-921c-8b805141a24f \u001b[32m200\u001b[0m 599.960 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:13"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:21"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' AND \"ProjectUser\".\"role\" IN ('admin', 'editor') LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 16:31:21"}
{"level":"debug","message":"Executing (default): INSERT INTO \"folders\" (\"id\",\"name\",\"description\",\"projectId\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"name\",\"description\",\"projectId\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-10 16:31:21"}
{"level":"http","message":"\u001b[0mPOST /api/folder \u001b[32m201\u001b[0m 632.771 ms - 236\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:21"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:25"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-10 16:31:25"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 596.589 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:25"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-10 16:31:25"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 595.686 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:26"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:26"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:31:26"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 394.799 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:27"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:27"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:31:27"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 396.739 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:27"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:31:42"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1818.791 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:31:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:31:42"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 416.877 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:31:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:32:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:32:38"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1812.507 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:32:38"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:32:38"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-10 16:32:38"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 405.068 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:32:38"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:32:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:32:42"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1910.467 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:32:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:32:43"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-10 16:32:43"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 395.578 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:32:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:32:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:32:47"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 399.671 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:32:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:32:47"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-10 16:32:48"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 496.110 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:32:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:32:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:32:48"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 397.564 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:32:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:32:48"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-10 16:32:49"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 403.467 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:32:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:08"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:33:08"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1937.141 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:33:08"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:08"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:08"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:33:08"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-10 16:33:09"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 610.048 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:33:09"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 795.488 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:33:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:09"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-10 16:33:09"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 401.358 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:33:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:33:11"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 397.096 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:33:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:33:11"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 396.127 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:33:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:12"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:13"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-10 16:33:13"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 587.981 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:33:13"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:13"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:13"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-10 16:33:13"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 591.643 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:33:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:33:15"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 389.836 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:33:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:33:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:33:15"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 391.421 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:33:16"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:34:08"}
{"level":"debug","message":"Executing (default): INSERT INTO \"database_connections\" (\"id\",\"name\",\"type\",\"host\",\"port\",\"database\",\"username\",\"password\",\"ssl\",\"options\",\"status\",\"createdById\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14) RETURNING \"id\",\"name\",\"type\",\"host\",\"port\",\"database\",\"username\",\"password\",\"ssl\",\"options\",\"status\",\"lastTestedAt\",\"createdById\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-10 16:34:09"}
{"level":"http","message":"\u001b[0mPOST /api/connections \u001b[32m201\u001b[0m 1808.457 ms - 318\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:34:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:34:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 16:34:11"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[33m400\u001b[0m 793.382 ms - 101\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:34:12"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:41:22"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:41:22"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 2346.109 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:41:22"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:41:30"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:41:30"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1845.932 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:41:32"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:41:36"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:41:36"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 401.449 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:41:36"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:41:59"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:41:59"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1795.106 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:41:59"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:41:59"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 16:41:59"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 398.655 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:41:59"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 16:42:00"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 16:42:01"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[33m400\u001b[0m 801.291 ms - 101\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 16:42:01"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-10 17:58:31"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-10 17:58:31"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-10 17:58:31"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:31"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:31"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:33"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:33"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:34"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:34"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:35"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:35"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:35"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 17:58:36"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:36"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-10 17:58:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:37"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:37"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:38"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:38"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:39"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:39"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:39"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:40"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:41"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:41"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:41"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 17:58:42"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:42"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-10 17:58:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:45"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:45"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:46"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:48"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:48"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:48"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 17:58:49"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:49"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 17:58:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-10 17:58:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:51"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:52"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:52"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 17:58:52"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:52"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 17:58:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-10 17:58:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 17:58:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:54"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 17:58:54"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-10 17:58:54"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-10 17:58:54"}
{"level":"info","message":"API URL: https://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-10 17:58:54"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:00:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:00:46"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1892.779 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:00:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:00:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:00:46"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 411.686 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:00:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:00:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:00:49"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[33m400\u001b[0m 842.046 ms - 101\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:00:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:01:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:01:39"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1898.714 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:01:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:01:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:01:43"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 422.161 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:01:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:01:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:01:45"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[33m400\u001b[0m 801.470 ms - 101\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:01:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:01:55"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:01:55"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[33m400\u001b[0m 838.241 ms - 101\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:01:56"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:05:00"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:05:00"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 2013.002 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:05:00"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:05:03"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:05:03"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[33m400\u001b[0m 802.145 ms - 101\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:05:04"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:05:08"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:05:08"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[33m400\u001b[0m 806.652 ms - 101\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:05:08"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:06:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:06:14"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1893.381 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:06:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:06:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:06:15"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 421.734 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:06:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:06:23"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:06:23"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 402.436 ms - 320\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:06:23"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:06:57"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:06:57"}
{"level":"debug","message":"Executing (default): UPDATE \"database_connections\" SET \"ssl\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-10 18:06:58"}
{"level":"http","message":"\u001b[0mPUT /api/connections/48dd360c-845f-4f71-8526-40532507200c \u001b[32m200\u001b[0m 2109.713 ms - 317\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:06:58"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:00"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:01"}
{"level":"debug","message":"Executing (default): UPDATE \"database_connections\" SET \"status\"=$1,\"lastTestedAt\"=$2,\"updatedAt\"=$3 WHERE \"id\" = $4","service":"nextbi-backend","timestamp":"2025-11-10 18:07:03"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[32m200\u001b[0m 3356.481 ms - 119\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:03"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:08"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:07:08"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 402.321 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:07:09"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-10 18:07:09"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 613.408 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:09"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 753.444 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:09"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:09"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-10 18:07:10"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 405.833 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:10"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:25"}
{"level":"http","message":"\u001b[0mGET /api/connections/48dd360c-845f-4f71-8526-40532507200c/schema \u001b[32m200\u001b[0m 3460.377 ms - 183\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:27"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:27"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:27"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:27"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:28"}
{"level":"debug","message":"Executing (default): INSERT INTO \"data_models\" (\"id\",\"name\",\"description\",\"connectionId\",\"schema\",\"query\",\"refreshSchedule\",\"createdById\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING \"id\",\"name\",\"description\",\"connectionId\",\"schema\",\"query\",\"refreshSchedule\",\"lastRefreshedAt\",\"createdById\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-10 18:07:28"}
{"level":"http","message":"\u001b[0mPOST /api/data-models \u001b[32m201\u001b[0m 1015.814 ms - 368\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:28"}
{"level":"http","message":"\u001b[0mGET /api/connections/48dd360c-845f-4f71-8526-40532507200c/schema \u001b[32m200\u001b[0m 2272.986 ms - 183\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:29"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:30"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:30"}
{"level":"debug","message":"Executing (default): INSERT INTO \"data_models\" (\"id\",\"name\",\"description\",\"connectionId\",\"schema\",\"query\",\"refreshSchedule\",\"createdById\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING \"id\",\"name\",\"description\",\"connectionId\",\"schema\",\"query\",\"refreshSchedule\",\"lastRefreshedAt\",\"createdById\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-10 18:07:30"}
{"level":"http","message":"\u001b[0mPOST /api/data-models \u001b[32m201\u001b[0m 613.728 ms - 368\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:30"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:31"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:31"}
{"level":"http","message":"\u001b[0mGET /api/connections/48dd360c-845f-4f71-8526-40532507200c/schema \u001b[32m200\u001b[0m 2003.727 ms - 183\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:33"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:39"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-10 18:07:39"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 689.560 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-10 18:07:40"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 615.295 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:41"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '8a89f545-b3f1-41b9-921c-8b805141a24f';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:41"}
{"level":"http","message":"\u001b[0mGET /api/project/8a89f545-b3f1-41b9-921c-8b805141a24f \u001b[32m200\u001b[0m 629.892 ms - 598\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:42"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '8a89f545-b3f1-41b9-921c-8b805141a24f';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:42"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:43"}
{"level":"http","message":"\u001b[0mGET /api/project/8a89f545-b3f1-41b9-921c-8b805141a24f \u001b[32m200\u001b[0m 1013.127 ms - 598\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:43"}
{"level":"http","message":"\u001b[0mGET /api/folder/by-project/8a89f545-b3f1-41b9-921c-8b805141a24f \u001b[32m200\u001b[0m 1154.410 ms - 257\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'e94f18ef-eed0-4e3f-8975-a2973fe6b973';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:43"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:43"}
{"level":"http","message":"\u001b[0mGET /api/folder/by-project/8a89f545-b3f1-41b9-921c-8b805141a24f \u001b[32m200\u001b[0m 646.494 ms - 257\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:43"}
{"level":"debug","message":"Executing (default): SELECT \"Dashboard\".\"id\", \"Dashboard\".\"name\", \"Dashboard\".\"description\", \"Dashboard\".\"folderId\", \"Dashboard\".\"layout\", \"Dashboard\".\"createdAt\", \"Dashboard\".\"updatedAt\", \"tiles\".\"id\" AS \"tiles.id\" FROM \"dashboards\" AS \"Dashboard\" LEFT OUTER JOIN \"tiles\" AS \"tiles\" ON \"Dashboard\".\"id\" = \"tiles\".\"dashboardId\" WHERE \"Dashboard\".\"folderId\" = 'e94f18ef-eed0-4e3f-8975-a2973fe6b973';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:44"}
{"level":"http","message":"\u001b[0mGET /api/dashboard/by-folder/e94f18ef-eed0-4e3f-8975-a2973fe6b973 \u001b[32m200\u001b[0m 981.307 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:44"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:44"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'e94f18ef-eed0-4e3f-8975-a2973fe6b973';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:44"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:44"}
{"level":"debug","message":"Executing (default): SELECT \"Dashboard\".\"id\", \"Dashboard\".\"name\", \"Dashboard\".\"description\", \"Dashboard\".\"folderId\", \"Dashboard\".\"layout\", \"Dashboard\".\"createdAt\", \"Dashboard\".\"updatedAt\", \"tiles\".\"id\" AS \"tiles.id\" FROM \"dashboards\" AS \"Dashboard\" LEFT OUTER JOIN \"tiles\" AS \"tiles\" ON \"Dashboard\".\"id\" = \"tiles\".\"dashboardId\" WHERE \"Dashboard\".\"folderId\" = 'e94f18ef-eed0-4e3f-8975-a2973fe6b973';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:44"}
{"level":"http","message":"\u001b[0mGET /api/dashboard/by-folder/e94f18ef-eed0-4e3f-8975-a2973fe6b973 \u001b[32m200\u001b[0m 808.007 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:45"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '8a89f545-b3f1-41b9-921c-8b805141a24f';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:45"}
{"level":"http","message":"\u001b[0mGET /api/project/8a89f545-b3f1-41b9-921c-8b805141a24f \u001b[32m200\u001b[0m 617.615 ms - 598\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\", \"dashboards\".\"name\" AS \"dashboards.name\", \"dashboards\".\"description\" AS \"dashboards.description\", \"dashboards\".\"folderId\" AS \"dashboards.folderId\", \"dashboards\".\"layout\" AS \"dashboards.layout\", \"dashboards\".\"createdAt\" AS \"dashboards.createdAt\", \"dashboards\".\"updatedAt\" AS \"dashboards.updatedAt\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"id\" = 'e94f18ef-eed0-4e3f-8975-a2973fe6b973';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '8a89f545-b3f1-41b9-921c-8b805141a24f';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"http","message":"\u001b[0mGET /api/project/8a89f545-b3f1-41b9-921c-8b805141a24f \u001b[32m200\u001b[0m 604.349 ms - 598\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"http","message":"\u001b[0mGET /api/folder/e94f18ef-eed0-4e3f-8975-a2973fe6b973 \u001b[32m200\u001b[0m 625.393 ms - 252\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\", \"dashboards\".\"name\" AS \"dashboards.name\", \"dashboards\".\"description\" AS \"dashboards.description\", \"dashboards\".\"folderId\" AS \"dashboards.folderId\", \"dashboards\".\"layout\" AS \"dashboards.layout\", \"dashboards\".\"createdAt\" AS \"dashboards.createdAt\", \"dashboards\".\"updatedAt\" AS \"dashboards.updatedAt\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"id\" = 'e94f18ef-eed0-4e3f-8975-a2973fe6b973';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'e94f18ef-eed0-4e3f-8975-a2973fe6b973';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:47"}
{"level":"http","message":"\u001b[0mGET /api/folder/e94f18ef-eed0-4e3f-8975-a2973fe6b973 \u001b[32m200\u001b[0m 613.671 ms - 252\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:47"}
{"level":"debug","message":"Executing (default): SELECT \"Dashboard\".\"id\", \"Dashboard\".\"name\", \"Dashboard\".\"description\", \"Dashboard\".\"folderId\", \"Dashboard\".\"layout\", \"Dashboard\".\"createdAt\", \"Dashboard\".\"updatedAt\", \"tiles\".\"id\" AS \"tiles.id\" FROM \"dashboards\" AS \"Dashboard\" LEFT OUTER JOIN \"tiles\" AS \"tiles\" ON \"Dashboard\".\"id\" = \"tiles\".\"dashboardId\" WHERE \"Dashboard\".\"folderId\" = 'e94f18ef-eed0-4e3f-8975-a2973fe6b973';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:47"}
{"level":"http","message":"\u001b[0mGET /api/dashboard/by-folder/e94f18ef-eed0-4e3f-8975-a2973fe6b973 \u001b[32m200\u001b[0m 822.822 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'e94f18ef-eed0-4e3f-8975-a2973fe6b973';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '8a89f545-b3f1-41b9-921c-8b805141a24f' AND \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-10 18:07:48"}
{"level":"debug","message":"Executing (default): SELECT \"Dashboard\".\"id\", \"Dashboard\".\"name\", \"Dashboard\".\"description\", \"Dashboard\".\"folderId\", \"Dashboard\".\"layout\", \"Dashboard\".\"createdAt\", \"Dashboard\".\"updatedAt\", \"tiles\".\"id\" AS \"tiles.id\" FROM \"dashboards\" AS \"Dashboard\" LEFT OUTER JOIN \"tiles\" AS \"tiles\" ON \"Dashboard\".\"id\" = \"tiles\".\"dashboardId\" WHERE \"Dashboard\".\"folderId\" = 'e94f18ef-eed0-4e3f-8975-a2973fe6b973';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:48"}
{"level":"http","message":"\u001b[0mGET /api/dashboard/by-folder/e94f18ef-eed0-4e3f-8975-a2973fe6b973 \u001b[32m200\u001b[0m 809.932 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:07:50"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 403.249 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:07:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:07:50"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 398.932 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:07:50"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-10 18:21:05"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-10 18:21:06"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-10 18:21:06"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:06"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:06"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:08"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:08"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:08"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:08"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:10"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:10"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:10"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 18:21:10"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:10"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-10 18:21:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:12"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:12"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:12"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:12"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:14"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:14"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:14"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:14"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:18"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:18"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:18"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 18:21:18"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:19"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-10 18:21:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:22"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:22"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:22"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:22"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:25"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:25"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:25"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 18:21:26"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:26"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-10 18:21:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-10 18:21:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:29"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:29"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:29"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-10 18:21:29"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:29"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-10 18:21:29"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-10 18:21:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-10 18:21:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:31"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-10 18:21:31"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-10 18:21:31"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-10 18:21:31"}
{"level":"info","message":"API URL: https://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-10 18:21:31"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:03"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:22:03"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 2042.166 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:03"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:03"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:22:04"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 423.772 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:04"}
{"level":"http","message":"\u001b[0mGET / \u001b[33m404\u001b[0m 2.028 ms - 47\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:04"}
{"level":"http","message":"\u001b[0mGET /favicon.ico \u001b[33m404\u001b[0m 1.976 ms - 58\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:06"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-10 18:22:06"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 435.496 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:06"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:06"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-10 18:22:06"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 413.590 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:07"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:11"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:22:11"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 426.468 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:12"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:12"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:22:12"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 409.130 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:12"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:13"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:13"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-10 18:22:13"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 644.515 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:14"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-10 18:22:14"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 650.190 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:14"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:22:15"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 414.837 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-10 18:22:15"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 409.486 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:15"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:16"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:16"}
{"level":"debug","message":"Executing (default): UPDATE \"database_connections\" SET \"lastTestedAt\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-10 18:22:18"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[32m200\u001b[0m 2094.836 ms - 119\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:18"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:21"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-10 18:22:21"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 628.620 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:21"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:21"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-10 18:22:21"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-10 18:22:22"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 618.066 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-10 18:22:22"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-11 11:32:20"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-11 11:32:20"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-11 11:32:20"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:20"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:20"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:22"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:22"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:23"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:23"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:24"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:24"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:25"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-11 11:32:25"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:25"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-11 11:32:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:27"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:27"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:27"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:27"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:27"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:28"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:28"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:29"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:29"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:29"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:29"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:29"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:29"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:30"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:31"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:31"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-11 11:32:31"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:31"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-11 11:32:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:34"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:35"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:35"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:35"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:37"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:38"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:38"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-11 11:32:38"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:38"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-11 11:32:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-11 11:32:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:43"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:43"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:43"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-11 11:32:43"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:43"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-11 11:32:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-11 11:32:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-11 11:32:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-11 11:32:45"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-11 11:32:45"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-11 11:32:45"}
{"level":"info","message":"API URL: https://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-11 11:32:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = 'b7e066a9-cda5-4dc5-9b9d-122d595a6faa';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:26"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = 'b7e066a9-cda5-4dc5-9b9d-122d595a6faa';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:26"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'sathyaprakash.j@dynpro.in';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:27"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"email\" = 'sathyaprakash.j@dynpro.in';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:27"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-11 11:34:27"}
{"level":"debug","message":"Executing (default): INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-11 11:34:27"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 2031.876 ms - 405\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:27"}
{"errors":[{"instance":{"avatar":null,"azureId":"b7e066a9-cda5-4dc5-9b9d-122d595a6faa","createdAt":"2025-11-11T06:04:27.356Z","displayName":"Sathya Prakash","email":"sathyaprakash.j@dynpro.in","id":"7b6a484e-d78c-4f01-9baf-60cad7235e40","lastLogin":"2025-11-11T06:04:27.356Z","updatedAt":"2025-11-11T06:04:27.356Z"},"message":"email must be unique","origin":"DB","path":"email","type":"unique violation","validatorArgs":[],"validatorKey":"not_unique","validatorName":null,"value":"sathyaprakash.j@dynpro.in"}],"fields":{"email":"sathyaprakash.j@dynpro.in"},"level":"error","message":"Azure auth error: Validation error","name":"SequelizeUniqueConstraintError","original":{"code":"23505","constraint":"users_email_key5","detail":"Key (email)=(sathyaprakash.j@dynpro.in) already exists.","file":"nbtinsert.c","length":219,"line":"667","name":"error","parameters":["7b6a484e-d78c-4f01-9baf-60cad7235e40","sathyaprakash.j@dynpro.in","Sathya Prakash","b7e066a9-cda5-4dc5-9b9d-122d595a6faa",null,"2025-11-11 06:04:27.356 +00:00","2025-11-11 06:04:27.356 +00:00","2025-11-11 06:04:27.356 +00:00"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","table":"users"},"parent":{"code":"23505","constraint":"users_email_key5","detail":"Key (email)=(sathyaprakash.j@dynpro.in) already exists.","file":"nbtinsert.c","length":219,"line":"667","name":"error","parameters":["7b6a484e-d78c-4f01-9baf-60cad7235e40","sathyaprakash.j@dynpro.in","Sathya Prakash","b7e066a9-cda5-4dc5-9b9d-122d595a6faa",null,"2025-11-11 06:04:27.356 +00:00","2025-11-11 06:04:27.356 +00:00","2025-11-11 06:04:27.356 +00:00"],"routine":"_bt_check_unique","schema":"public","severity":"ERROR","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","table":"users"},"service":"nextbi-backend","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"displayName\",\"azureId\",\"avatar\",\"lastLogin\",\"createdAt\",\"updatedAt\";","stack":"Error\n    at Query.run (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\postgres\\query.js:76:25)\n    at C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\sequelize.js:650:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async PostgresQueryInterface.insert (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\dialects\\abstract\\query-interface.js:795:21)\n    at async User.save (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\model.js:4154:35)\n    at async Function.create (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\node_modules\\sequelize\\src\\model.js:2305:12)\n    at async azureAuth (C:\\Users\\Sathya Prakash\\Desktop\\NextBI-main-SSL-Test\\NextBI-main\\backend\\src\\controllers\\auth.controller.ts:44:16)","timestamp":"2025-11-11 11:34:28"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[31m500\u001b[0m 2574.006 ms - 51\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:28"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:29"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:30"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-11 11:34:30"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 632.189 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:30"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:30"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:30"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-11 11:34:31"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 610.313 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:31"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:37"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-11 11:34:37"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 620.810 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'ae51b147-8b18-4a86-a434-3dc07dcd6350';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('8a89f545-b3f1-41b9-921c-8b805141a24f');","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 637.044 ms - 375\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 391.491 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 385.096 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 405.258 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:38"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-11 11:34:39"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 407.016 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-11 11:34:42"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 479.322 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-11 11:34:42"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 401.109 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-11 11:34:48"}
{"level":"debug","message":"Executing (default): UPDATE \"database_connections\" SET \"lastTestedAt\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-11 11:34:50"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[32m200\u001b[0m 2008.995 ms - 119\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:34:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:35:03"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-11 11:35:04"}
{"level":"debug","message":"Executing (default): UPDATE \"database_connections\" SET \"lastTestedAt\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-11 11:35:05"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[32m200\u001b[0m 3412.651 ms - 119\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:35:05"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:35:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:35:19"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-11 11:35:19"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 2447.975 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:35:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:35:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-11 11:35:20"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-11 11:35:20"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 825.852 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-11 11:35:20"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-12 12:05:33"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-12 12:05:33"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-12 12:05:33"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:33"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:33"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:35"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:35"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:36"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:36"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:37"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:37"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:38"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-12 12:05:38"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:38"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-12 12:05:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:40"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:40"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:40"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:40"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:42"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:42"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:42"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:42"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:44"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:44"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:45"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-12 12:05:45"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:45"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-12 12:05:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:49"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:49"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:49"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:49"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:52"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:52"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:53"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-12 12:05:53"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:53"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-12 12:05:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-12 12:05:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:56"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:56"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:56"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-12 12:05:57"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:57"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-12 12:05:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-12 12:05:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-12 12:05:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:58"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-12 12:05:59"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-12 12:05:59"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-12 12:05:59"}
{"level":"info","message":"API URL: https://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-12 12:05:59"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = 'b7e066a9-cda5-4dc5-9b9d-122d595a6faa';","service":"nextbi-backend","timestamp":"2025-11-12 12:06:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"azureId\" = 'b7e066a9-cda5-4dc5-9b9d-122d595a6faa';","service":"nextbi-backend","timestamp":"2025-11-12 12:06:46"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-12 12:06:46"}
{"level":"debug","message":"Executing (default): UPDATE \"users\" SET \"lastLogin\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-12 12:06:46"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 2182.639 ms - 405\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:06:46"}
{"level":"http","message":"\u001b[0mPOST /api/auth/azure \u001b[32m200\u001b[0m 2178.274 ms - 405\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:06:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:06:47"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:06:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:06:47"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-12 12:06:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:06:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:06:49"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-12 12:06:49"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 728.561 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:06:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:06:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:06:49"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-12 12:06:50"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 747.014 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:06:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:06"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:06"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-12 12:07:06"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 2110.098 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:07"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:07"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:07"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN (NULL);","service":"nextbi-backend","timestamp":"2025-11-12 12:07:07"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 621.955 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:07"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:19"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:19"}
{"level":"debug","message":"Executing (default): INSERT INTO \"projects\" (\"id\",\"name\",\"description\",\"creatorId\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"name\",\"description\",\"creatorId\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-12 12:07:19"}
{"level":"debug","message":"Executing (default): INSERT INTO \"projects\" (\"id\",\"name\",\"description\",\"creatorId\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"name\",\"description\",\"creatorId\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-12 12:07:19"}
{"level":"debug","message":"Executing (default): INSERT INTO \"project_users\" (\"id\",\"projectId\",\"userId\",\"role\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"projectId\",\"userId\",\"role\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-12 12:07:19"}
{"level":"debug","message":"Executing (default): INSERT INTO \"project_users\" (\"id\",\"projectId\",\"userId\",\"role\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"projectId\",\"userId\",\"role\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-12 12:07:19"}
{"level":"http","message":"\u001b[0mPOST /api/project \u001b[32m201\u001b[0m 2316.468 ms - 226\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:20"}
{"level":"http","message":"\u001b[0mPOST /api/project \u001b[32m201\u001b[0m 1056.451 ms - 226\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:22"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:22"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:22"}
{"level":"http","message":"\u001b[0mGET /api/project/30b97d72-29b9-45db-bdf6-4a7e7e9e2f07 \u001b[32m200\u001b[0m 955.095 ms - 391\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:23"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:23"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:23"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:23"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:23"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:23"}
{"level":"http","message":"\u001b[0mGET /api/project/30b97d72-29b9-45db-bdf6-4a7e7e9e2f07 \u001b[32m200\u001b[0m 683.893 ms - 391\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:23"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:23"}
{"level":"http","message":"\u001b[0mGET /api/folder/by-project/30b97d72-29b9-45db-bdf6-4a7e7e9e2f07 \u001b[32m200\u001b[0m 946.951 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:24"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:24"}
{"level":"http","message":"\u001b[0mGET /api/folder/by-project/30b97d72-29b9-45db-bdf6-4a7e7e9e2f07 \u001b[32m200\u001b[0m 663.799 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' AND \"ProjectUser\".\"role\" IN ('admin', 'editor') LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:37"}
{"level":"debug","message":"Executing (default): INSERT INTO \"folders\" (\"id\",\"name\",\"description\",\"projectId\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"name\",\"description\",\"projectId\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-12 12:07:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:37"}
{"level":"http","message":"\u001b[0mPOST /api/folder \u001b[32m201\u001b[0m 2051.249 ms - 228\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' AND \"ProjectUser\".\"role\" IN ('admin', 'editor') LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:38"}
{"level":"debug","message":"Executing (default): INSERT INTO \"folders\" (\"id\",\"name\",\"description\",\"projectId\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6) RETURNING \"id\",\"name\",\"description\",\"projectId\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-12 12:07:38"}
{"level":"http","message":"\u001b[0mPOST /api/folder \u001b[32m201\u001b[0m 638.246 ms - 228\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:38"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:39"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:39"}
{"level":"http","message":"\u001b[0mGET /api/project/30b97d72-29b9-45db-bdf6-4a7e7e9e2f07 \u001b[32m200\u001b[0m 647.580 ms - 800\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\", \"dashboards\".\"name\" AS \"dashboards.name\", \"dashboards\".\"description\" AS \"dashboards.description\", \"dashboards\".\"folderId\" AS \"dashboards.folderId\", \"dashboards\".\"layout\" AS \"dashboards.layout\", \"dashboards\".\"createdAt\" AS \"dashboards.createdAt\", \"dashboards\".\"updatedAt\" AS \"dashboards.updatedAt\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:40"}
{"level":"http","message":"\u001b[0mGET /api/folder/ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe \u001b[32m200\u001b[0m 646.488 ms - 244\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:40"}
{"level":"http","message":"\u001b[0mGET /api/project/30b97d72-29b9-45db-bdf6-4a7e7e9e2f07 \u001b[32m200\u001b[0m 687.958 ms - 800\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\", \"dashboards\".\"name\" AS \"dashboards.name\", \"dashboards\".\"description\" AS \"dashboards.description\", \"dashboards\".\"folderId\" AS \"dashboards.folderId\", \"dashboards\".\"layout\" AS \"dashboards.layout\", \"dashboards\".\"createdAt\" AS \"dashboards.createdAt\", \"dashboards\".\"updatedAt\" AS \"dashboards.updatedAt\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:40"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:41"}
{"level":"debug","message":"Executing (default): SELECT \"Dashboard\".\"id\", \"Dashboard\".\"name\", \"Dashboard\".\"description\", \"Dashboard\".\"folderId\", \"Dashboard\".\"layout\", \"Dashboard\".\"createdAt\", \"Dashboard\".\"updatedAt\", \"tiles\".\"id\" AS \"tiles.id\" FROM \"dashboards\" AS \"Dashboard\" LEFT OUTER JOIN \"tiles\" AS \"tiles\" ON \"Dashboard\".\"id\" = \"tiles\".\"dashboardId\" WHERE \"Dashboard\".\"folderId\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:41"}
{"level":"http","message":"\u001b[0mGET /api/folder/ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe \u001b[32m200\u001b[0m 627.457 ms - 244\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:41"}
{"level":"http","message":"\u001b[0mGET /api/dashboard/by-folder/ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe \u001b[32m200\u001b[0m 804.531 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:41"}
{"level":"debug","message":"Executing (default): SELECT \"Dashboard\".\"id\", \"Dashboard\".\"name\", \"Dashboard\".\"description\", \"Dashboard\".\"folderId\", \"Dashboard\".\"layout\", \"Dashboard\".\"createdAt\", \"Dashboard\".\"updatedAt\", \"tiles\".\"id\" AS \"tiles.id\" FROM \"dashboards\" AS \"Dashboard\" LEFT OUTER JOIN \"tiles\" AS \"tiles\" ON \"Dashboard\".\"id\" = \"tiles\".\"dashboardId\" WHERE \"Dashboard\".\"folderId\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:42"}
{"level":"http","message":"\u001b[0mGET /api/dashboard/by-folder/ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe \u001b[32m200\u001b[0m 847.141 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' AND \"ProjectUser\".\"role\" IN ('admin', 'editor') LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:47"}
{"level":"debug","message":"Executing (default): INSERT INTO \"dashboards\" (\"id\",\"name\",\"description\",\"folderId\",\"layout\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING \"id\",\"name\",\"description\",\"folderId\",\"layout\",\"createdAt\",\"updatedAt\";","service":"nextbi-backend","timestamp":"2025-11-12 12:07:47"}
{"level":"http","message":"\u001b[0mPOST /api/dashboard \u001b[32m201\u001b[0m 919.257 ms - 241\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:47"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:49"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:49"}
{"level":"http","message":"\u001b[0mGET /api/project/30b97d72-29b9-45db-bdf6-4a7e7e9e2f07 \u001b[32m200\u001b[0m 641.812 ms - 800\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:50"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\", \"dashboards\".\"name\" AS \"dashboards.name\", \"dashboards\".\"description\" AS \"dashboards.description\", \"dashboards\".\"folderId\" AS \"dashboards.folderId\", \"dashboards\".\"layout\" AS \"dashboards.layout\", \"dashboards\".\"createdAt\" AS \"dashboards.createdAt\", \"dashboards\".\"updatedAt\" AS \"dashboards.updatedAt\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:50"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:50"}
{"level":"http","message":"\u001b[0mGET /api/project/30b97d72-29b9-45db-bdf6-4a7e7e9e2f07 \u001b[32m200\u001b[0m 619.302 ms - 800\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:50"}
{"level":"http","message":"\u001b[0mGET /api/folder/ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe \u001b[32m200\u001b[0m 651.038 ms - 461\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:50"}
{"level":"debug","message":"Executing (default): SELECT \"Dashboard\".\"id\", \"Dashboard\".\"name\", \"Dashboard\".\"description\", \"Dashboard\".\"folderId\", \"Dashboard\".\"layout\", \"Dashboard\".\"createdAt\", \"Dashboard\".\"updatedAt\", \"tiles\".\"id\" AS \"tiles.id\", \"tiles\".\"title\" AS \"tiles.title\", \"tiles\".\"type\" AS \"tiles.type\", \"tiles\".\"connectionId\" AS \"tiles.connectionId\", \"tiles\".\"content\" AS \"tiles.content\", \"tiles\".\"position\" AS \"tiles.position\", \"tiles\".\"styling\" AS \"tiles.styling\", \"tiles\".\"dashboardId\" AS \"tiles.dashboardId\", \"tiles\".\"createdAt\" AS \"tiles.createdAt\", \"tiles\".\"updatedAt\" AS \"tiles.updatedAt\", \"tiles\".\"dataModelId\" AS \"tiles.dataModelId\" FROM \"dashboards\" AS \"Dashboard\" LEFT OUTER JOIN \"tiles\" AS \"tiles\" ON \"Dashboard\".\"id\" = \"tiles\".\"dashboardId\" WHERE \"Dashboard\".\"id\" = '1601e22b-eca5-4f71-8446-55a360715560';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:50"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\", \"dashboards\".\"name\" AS \"dashboards.name\", \"dashboards\".\"description\" AS \"dashboards.description\", \"dashboards\".\"folderId\" AS \"dashboards.folderId\", \"dashboards\".\"layout\" AS \"dashboards.layout\", \"dashboards\".\"createdAt\" AS \"dashboards.createdAt\", \"dashboards\".\"updatedAt\" AS \"dashboards.updatedAt\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"http","message":"\u001b[0mGET /api/folder/ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe \u001b[32m200\u001b[0m 677.635 ms - 461\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"http","message":"\u001b[0mGET /api/dashboard/1601e22b-eca5-4f71-8446-55a360715560 \u001b[32m200\u001b[0m 840.062 ms - 271\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"debug","message":"Executing (default): SELECT \"Dashboard\".\"id\", \"Dashboard\".\"name\", \"Dashboard\".\"description\", \"Dashboard\".\"folderId\", \"Dashboard\".\"layout\", \"Dashboard\".\"createdAt\", \"Dashboard\".\"updatedAt\", \"tiles\".\"id\" AS \"tiles.id\", \"tiles\".\"title\" AS \"tiles.title\", \"tiles\".\"type\" AS \"tiles.type\", \"tiles\".\"connectionId\" AS \"tiles.connectionId\", \"tiles\".\"content\" AS \"tiles.content\", \"tiles\".\"position\" AS \"tiles.position\", \"tiles\".\"styling\" AS \"tiles.styling\", \"tiles\".\"dashboardId\" AS \"tiles.dashboardId\", \"tiles\".\"createdAt\" AS \"tiles.createdAt\", \"tiles\".\"updatedAt\" AS \"tiles.updatedAt\", \"tiles\".\"dataModelId\" AS \"tiles.dataModelId\" FROM \"dashboards\" AS \"Dashboard\" LEFT OUTER JOIN \"tiles\" AS \"tiles\" ON \"Dashboard\".\"id\" = \"tiles\".\"dashboardId\" WHERE \"Dashboard\".\"id\" = '1601e22b-eca5-4f71-8446-55a360715560';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 453.720 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:51"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"folderId\", \"layout\", \"createdAt\", \"updatedAt\" FROM \"dashboards\" AS \"Dashboard\" WHERE \"Dashboard\".\"id\" = '1601e22b-eca5-4f71-8446-55a360715560';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:52"}
{"level":"http","message":"\u001b[0mGET /api/dashboard/1601e22b-eca5-4f71-8446-55a360715560 \u001b[32m200\u001b[0m 852.140 ms - 271\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-12 12:07:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:52"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 425.881 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:52"}
{"level":"debug","message":"Executing (default): SELECT \"Tile\".\"id\", \"Tile\".\"title\", \"Tile\".\"type\", \"Tile\".\"connectionId\", \"Tile\".\"content\", \"Tile\".\"position\", \"Tile\".\"styling\", \"Tile\".\"dashboardId\", \"Tile\".\"createdAt\", \"Tile\".\"updatedAt\", \"Tile\".\"dataModelId\", \"textRows\".\"id\" AS \"textRows.id\", \"textRows\".\"type\" AS \"textRows.type\", \"textRows\".\"content\" AS \"textRows.content\", \"textRows\".\"isQuery\" AS \"textRows.isQuery\", \"textRows\".\"tileId\" AS \"textRows.tileId\", \"textRows\".\"createdAt\" AS \"textRows.createdAt\", \"textRows\".\"updatedAt\" AS \"textRows.updatedAt\" FROM \"tiles\" AS \"Tile\" LEFT OUTER JOIN \"text_rows\" AS \"textRows\" ON \"Tile\".\"id\" = \"textRows\".\"tileId\" WHERE \"Tile\".\"dashboardId\" = '1601e22b-eca5-4f71-8446-55a360715560';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:52"}
{"level":"http","message":"\u001b[0mGET /api/tile/by-dashboard/1601e22b-eca5-4f71-8446-55a360715560 \u001b[32m200\u001b[0m 1116.615 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:53"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:53"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"folderId\", \"layout\", \"createdAt\", \"updatedAt\" FROM \"dashboards\" AS \"Dashboard\" WHERE \"Dashboard\".\"id\" = '1601e22b-eca5-4f71-8446-55a360715560';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:53"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"description\", \"projectId\", \"createdAt\", \"updatedAt\" FROM \"folders\" AS \"Folder\" WHERE \"Folder\".\"id\" = 'ff4d0f8f-79bb-4f45-9198-a2801c9a9cbe';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:53"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-12 12:07:53"}
{"level":"debug","message":"Executing (default): SELECT \"Tile\".\"id\", \"Tile\".\"title\", \"Tile\".\"type\", \"Tile\".\"connectionId\", \"Tile\".\"content\", \"Tile\".\"position\", \"Tile\".\"styling\", \"Tile\".\"dashboardId\", \"Tile\".\"createdAt\", \"Tile\".\"updatedAt\", \"Tile\".\"dataModelId\", \"textRows\".\"id\" AS \"textRows.id\", \"textRows\".\"type\" AS \"textRows.type\", \"textRows\".\"content\" AS \"textRows.content\", \"textRows\".\"isQuery\" AS \"textRows.isQuery\", \"textRows\".\"tileId\" AS \"textRows.tileId\", \"textRows\".\"createdAt\" AS \"textRows.createdAt\", \"textRows\".\"updatedAt\" AS \"textRows.updatedAt\" FROM \"tiles\" AS \"Tile\" LEFT OUTER JOIN \"text_rows\" AS \"textRows\" ON \"Tile\".\"id\" = \"textRows\".\"tileId\" WHERE \"Tile\".\"dashboardId\" = '1601e22b-eca5-4f71-8446-55a360715560';","service":"nextbi-backend","timestamp":"2025-11-12 12:07:54"}
{"level":"http","message":"\u001b[0mGET /api/tile/by-dashboard/1601e22b-eca5-4f71-8446-55a360715560 \u001b[32m200\u001b[0m 1194.221 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:07:54"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:08:01"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-12 12:08:01"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 405.296 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:08:01"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:08:01"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-12 12:08:02"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 406.029 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:08:02"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:08:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-12 12:08:41"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 2078.051 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:08:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:08:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:08:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-12 12:08:42"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-12 12:08:42"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 662.351 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:08:42"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 872.554 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:08:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:08:42"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-12 12:08:42"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 443.508 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:08:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-12 12:08:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-12 12:08:45"}
{"level":"http","message":"\u001b[0mGET /api/connections/48dd360c-845f-4f71-8526-40532507200c/schema \u001b[32m200\u001b[0m 2202.184 ms - 183\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-12 12:08:47"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-13 11:17:03"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-13 11:17:03"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-13 11:17:03"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:03"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:04"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:05"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:06"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:06"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:06"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:06"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:06"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:07"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:08"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:08"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:08"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:08"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:17:08"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:09"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:09"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-13 11:17:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:10"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:10"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:10"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:10"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:11"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:11"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:12"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:12"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:12"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:12"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:12"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:13"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:14"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:14"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:14"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:14"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:17:14"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:15"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:15"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:16"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-13 11:17:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:17"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:18"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:18"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:18"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:18"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:18"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:19"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:20"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:21"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:21"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:21"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:21"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:17:21"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:22"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:17:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-13 11:17:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:22"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:23"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:24"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:24"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:25"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:25"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:17:25"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:25"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:17:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-13 11:17:25"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:17:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:26"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:27"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:27"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-13 11:17:27"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-13 11:17:27"}
{"level":"info","message":"API URL: https://localhost:3001","service":"nextbi-backend","timestamp":"2025-11-13 11:17:27"}
{"level":"http","message":"\u001b[0mGET / \u001b[33m404\u001b[0m 6.247 ms - 47\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:32"}
{"level":"http","message":"\u001b[0mGET / \u001b[33m404\u001b[0m 2.298 ms - 47\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:32"}
{"level":"http","message":"\u001b[0mGET /favicon.ico \u001b[33m404\u001b[0m 1.175 ms - 58\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:32"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:36"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:36"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('dd08e0af-9a34-4de4-9ded-3d944058bf72', '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07');","service":"nextbi-backend","timestamp":"2025-11-13 11:17:37"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 656.395 ms - 735\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:37"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('dd08e0af-9a34-4de4-9ded-3d944058bf72', '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07');","service":"nextbi-backend","timestamp":"2025-11-13 11:17:37"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 612.823 ms - 735\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:37"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = 'dd08e0af-9a34-4de4-9ded-3d944058bf72' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:39"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = 'dd08e0af-9a34-4de4-9ded-3d944058bf72';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:39"}
{"level":"http","message":"\u001b[0mGET /api/project/dd08e0af-9a34-4de4-9ded-3d944058bf72 \u001b[32m200\u001b[0m 634.349 ms - 391\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:39"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:40"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = 'dd08e0af-9a34-4de4-9ded-3d944058bf72' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:40"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = 'dd08e0af-9a34-4de4-9ded-3d944058bf72' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:40"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\", \"folders\".\"id\" AS \"folders.id\", \"folders\".\"name\" AS \"folders.name\", \"folders\".\"description\" AS \"folders.description\", \"folders\".\"projectId\" AS \"folders.projectId\", \"folders\".\"createdAt\" AS \"folders.createdAt\", \"folders\".\"updatedAt\" AS \"folders.updatedAt\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" LEFT OUTER JOIN \"folders\" AS \"folders\" ON \"Project\".\"id\" = \"folders\".\"projectId\" WHERE \"Project\".\"id\" = 'dd08e0af-9a34-4de4-9ded-3d944058bf72';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:40"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"projectId\" = 'dd08e0af-9a34-4de4-9ded-3d944058bf72';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:40"}
{"level":"http","message":"\u001b[0mGET /api/project/dd08e0af-9a34-4de4-9ded-3d944058bf72 \u001b[32m200\u001b[0m 1007.385 ms - 391\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:41"}
{"level":"http","message":"\u001b[0mGET /api/folder/by-project/dd08e0af-9a34-4de4-9ded-3d944058bf72 \u001b[32m200\u001b[0m 1187.050 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"projectId\" = 'dd08e0af-9a34-4de4-9ded-3d944058bf72' AND \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5' LIMIT 1;","service":"nextbi-backend","timestamp":"2025-11-13 11:17:41"}
{"level":"debug","message":"Executing (default): SELECT \"Folder\".\"id\", \"Folder\".\"name\", \"Folder\".\"description\", \"Folder\".\"projectId\", \"Folder\".\"createdAt\", \"Folder\".\"updatedAt\", \"dashboards\".\"id\" AS \"dashboards.id\" FROM \"folders\" AS \"Folder\" LEFT OUTER JOIN \"dashboards\" AS \"dashboards\" ON \"Folder\".\"id\" = \"dashboards\".\"folderId\" WHERE \"Folder\".\"projectId\" = 'dd08e0af-9a34-4de4-9ded-3d944058bf72';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:41"}
{"level":"http","message":"\u001b[0mGET /api/folder/by-project/dd08e0af-9a34-4de4-9ded-3d944058bf72 \u001b[32m200\u001b[0m 614.573 ms - 26\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:41"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:42"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('dd08e0af-9a34-4de4-9ded-3d944058bf72', '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07');","service":"nextbi-backend","timestamp":"2025-11-13 11:17:42"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 623.701 ms - 735\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:42"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"projectId\", \"userId\", \"role\", \"createdAt\", \"updatedAt\" FROM \"project_users\" AS \"ProjectUser\" WHERE \"ProjectUser\".\"userId\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:42"}
{"level":"debug","message":"Executing (default): SELECT \"Project\".\"id\", \"Project\".\"name\", \"Project\".\"description\", \"Project\".\"creatorId\", \"Project\".\"createdAt\", \"Project\".\"updatedAt\", \"creator\".\"id\" AS \"creator.id\", \"creator\".\"displayName\" AS \"creator.displayName\", \"creator\".\"email\" AS \"creator.email\", \"creator\".\"avatar\" AS \"creator.avatar\" FROM \"projects\" AS \"Project\" LEFT OUTER JOIN \"users\" AS \"creator\" ON \"Project\".\"creatorId\" = \"creator\".\"id\" WHERE \"Project\".\"id\" IN ('dd08e0af-9a34-4de4-9ded-3d944058bf72', '30b97d72-29b9-45db-bdf6-4a7e7e9e2f07');","service":"nextbi-backend","timestamp":"2025-11-13 11:17:43"}
{"level":"http","message":"\u001b[0mGET /api/projects/all \u001b[32m200\u001b[0m 613.300 ms - 735\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:17:43"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 419.112 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:43"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:17:44"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 424.472 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:44"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:46"}
{"level":"debug","message":"Executing (default): UPDATE \"database_connections\" SET \"lastTestedAt\"=$1,\"updatedAt\"=$2 WHERE \"id\" = $3","service":"nextbi-backend","timestamp":"2025-11-13 11:17:48"}
{"level":"http","message":"\u001b[0mPOST /api/connections/48dd360c-845f-4f71-8526-40532507200c/test \u001b[32m200\u001b[0m 2011.950 ms - 119\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:48"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:17:49"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 407.242 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:49"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:17:49"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:17:50"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 412.405 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:50"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 415.052 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:50"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:17:50"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 410.714 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:50"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:52"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"password\", \"ssl\", \"options\", \"status\", \"lastTestedAt\", \"createdById\", \"createdAt\", \"updatedAt\" FROM \"database_connections\" AS \"DatabaseConnection\" WHERE \"DatabaseConnection\".\"id\" = '48dd360c-845f-4f71-8526-40532507200c';","service":"nextbi-backend","timestamp":"2025-11-13 11:17:52"}
{"level":"http","message":"\u001b[0mGET /api/connections/48dd360c-845f-4f71-8526-40532507200c/schema \u001b[32m200\u001b[0m 2080.347 ms - 183\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:17:54"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:20:24"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1785.324 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:20:24"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:20:25"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 598.904 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:20:25"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 748.944 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:20:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:20:25"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:20:25"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 397.253 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:20:25"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:20:54"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:20:54"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1828.545 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:20:54"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:20:54"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:20:54"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:20:54"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:20:54"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:20:54"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:20:55"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:20:58"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:20:58"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 404.543 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:20:59"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:20:59"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:20:59"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 407.025 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:20:59"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:21:00"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:21:00"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 408.505 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:21:00"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:21:00"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:21:00"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 414.017 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:21:00"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:22:34"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:22:34"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 3618.982 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:22:34"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:22:34"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:22:34"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 403.369 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:22:34"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:22:44"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:22:44"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 493.790 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:22:45"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:22:45"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:22:45"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 954.016 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:22:46"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:23:20"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:23:21"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 1809.833 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:23:21"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:23:21"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"name\", \"type\", \"host\", \"port\", \"database\", \"username\", \"ssl\", \"status\", \"lastTestedAt\", \"createdAt\" FROM \"database_connections\" AS \"DatabaseConnection\";","service":"nextbi-backend","timestamp":"2025-11-13 11:23:21"}
{"level":"http","message":"\u001b[0mGET /api/connections \u001b[32m200\u001b[0m 400.191 ms - 339\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:23:21"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:23:34"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:23:34"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 1855.459 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:23:35"}
{"level":"debug","message":"Executing (default): SELECT \"id\", \"email\", \"displayName\", \"azureId\", \"avatar\", \"lastLogin\", \"createdAt\", \"updatedAt\" FROM \"users\" AS \"User\" WHERE \"User\".\"id\" = 'f5805c9b-c2fc-47cf-8840-41c301344af5';","service":"nextbi-backend","timestamp":"2025-11-13 11:23:35"}
{"level":"debug","message":"Executing (default): SELECT \"DataModel\".\"id\", \"DataModel\".\"name\", \"DataModel\".\"description\", \"DataModel\".\"connectionId\", \"DataModel\".\"schema\", \"DataModel\".\"query\", \"DataModel\".\"refreshSchedule\", \"DataModel\".\"lastRefreshedAt\", \"DataModel\".\"createdById\", \"DataModel\".\"createdAt\", \"DataModel\".\"updatedAt\", \"connection\".\"id\" AS \"connection.id\", \"connection\".\"name\" AS \"connection.name\", \"connection\".\"type\" AS \"connection.type\" FROM \"data_models\" AS \"DataModel\" LEFT OUTER JOIN \"database_connections\" AS \"connection\" ON \"DataModel\".\"connectionId\" = \"connection\".\"id\";","service":"nextbi-backend","timestamp":"2025-11-13 11:23:35"}
{"level":"http","message":"\u001b[0mGET /api/data-models \u001b[32m200\u001b[0m 423.530 ms - 905\u001b[0m","service":"nextbi-backend","timestamp":"2025-11-13 11:23:35"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-13 11:27:41"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-13 11:27:41"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-13 11:27:41"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:41"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:41"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:43"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:43"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:44"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:44"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:27:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:45"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:45"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:45"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:27:46"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:46"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:27:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:27:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-13 11:27:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:47"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:47"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:48"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:48"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:27:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:49"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:49"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:49"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:50"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:27:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:51"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:51"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:52"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:27:52"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:52"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:53"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-13 11:27:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:54"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:27:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:55"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:55"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:55"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:56"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:56"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:27:56"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:57"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:27:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:58"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:58"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:27:58"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:59"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:27:59"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:59"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:27:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:27:59"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-13 11:28:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:28:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:00"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:28:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:01"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:28:02"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:02"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:02"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-13 11:28:02"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:28:02"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:28:03"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:28:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-13 11:28:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:28:03"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:04"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:04"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:28:04"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-13 11:28:04"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-13 11:28:04"}
{"level":"info","message":"API URL: https://35.174.81.186:3001","service":"nextbi-backend","timestamp":"2025-11-13 11:28:04"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","service":"nextbi-backend","timestamp":"2025-11-13 11:35:29"}
{"level":"info","message":" Database connection has been established successfully.","service":"nextbi-backend","timestamp":"2025-11-13 11:35:29"}
{"level":"info","message":"Syncing database models...","service":"nextbi-backend","timestamp":"2025-11-13 11:35:29"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:29"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:29"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:29"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"email\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"email\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"email\");ALTER TABLE \"users\" ALTER COLUMN \"email\" TYPE VARCHAR(255)  ;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"displayName\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"displayName\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"azureId\" DROP DEFAULT;ALTER TABLE \"users\"  ADD UNIQUE (\"azureId\");ALTER TABLE \"users\" ALTER COLUMN \"azureId\" TYPE VARCHAR(255) ;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:30"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"avatar\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"lastLogin\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:31"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:31"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:31"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'projects'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:32"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'projects' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:32"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'projects' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:32"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" DROP CONSTRAINT \"projects_creatorId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"creatorId\" SET NOT NULL;ALTER TABLE \"projects\"  ADD FOREIGN KEY (\"creatorId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:33"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"projects\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:34"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'projects' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:34"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'project_users'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:34"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_project_users_role' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:35:34"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'project_users' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:34"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'project_users' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:34"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" DROP CONSTRAINT \"project_users_userId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"userId\" SET NOT NULL;ALTER TABLE \"project_users\"  ADD FOREIGN KEY (\"userId\") REFERENCES \"users\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"role\" SET DEFAULT 'viewer';DO 'BEGIN CREATE TYPE \"public\".\"enum_project_users_role\" AS ENUM(''admin'', ''editor'', ''viewer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"project_users\" ALTER COLUMN \"role\" TYPE \"public\".\"enum_project_users_role\" USING (\"role\"::\"public\".\"enum_project_users_role\");","service":"nextbi-backend","timestamp":"2025-11-13 11:35:35"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"project_users\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:36"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'project_users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:36"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'folders'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:36"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'folders' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:36"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'folders' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:36"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" DROP CONSTRAINT \"folders_projectId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"projectId\" SET NOT NULL;ALTER TABLE \"folders\"  ADD FOREIGN KEY (\"projectId\") REFERENCES \"projects\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:37"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"folders\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:38"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'folders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:38"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'dashboards'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:38"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'dashboards' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:38"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'dashboards' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:38"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" DROP CONSTRAINT \"dashboards_folderId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"folderId\" SET NOT NULL;ALTER TABLE \"dashboards\"  ADD FOREIGN KEY (\"folderId\") REFERENCES \"folders\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"layout\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:39"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"dashboards\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:40"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'dashboards' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:40"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'database_connections'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:40"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_database_connections_status' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:35:40"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'database_connections' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:40"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'database_connections' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:40"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" SET DEFAULT 'postgresql';ALTER TABLE \"database_connections\" ALTER COLUMN \"type\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"host\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" SET DEFAULT 5432;ALTER TABLE \"database_connections\" ALTER COLUMN \"port\" TYPE INTEGER;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"database\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:41"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"username\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"password\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" SET DEFAULT false;ALTER TABLE \"database_connections\" ALTER COLUMN \"ssl\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"options\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" SET DEFAULT 'inactive';DO 'BEGIN CREATE TYPE \"public\".\"enum_database_connections_status\" AS ENUM(''active'', ''inactive''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"database_connections\" ALTER COLUMN \"status\" TYPE \"public\".\"enum_database_connections_status\" USING (\"status\"::\"public\".\"enum_database_connections_status\");","service":"nextbi-backend","timestamp":"2025-11-13 11:35:42"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"lastTestedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" DROP CONSTRAINT \"database_connections_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"database_connections\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:43"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"database_connections\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:43"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'database_connections' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:44"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'data_models'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:44"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'data_models' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:44"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'data_models' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"name\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"name\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"description\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:44"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" SET DEFAULT '{}';ALTER TABLE \"data_models\" ALTER COLUMN \"schema\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"query\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:45"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"refreshSchedule\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"lastRefreshedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" DROP CONSTRAINT \"data_models_createdById_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdById\" SET NOT NULL;ALTER TABLE \"data_models\"  ADD FOREIGN KEY (\"createdById\") REFERENCES \"users\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:46"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"data_models\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:47"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'data_models' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:47"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'tiles'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:47"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_tiles_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:35:47"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'tiles' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:47"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'tiles' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:47"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"title\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"title\" TYPE VARCHAR(255);","service":"nextbi-backend","timestamp":"2025-11-13 11:35:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"type\" DROP DEFAULT;DO 'BEGIN CREATE TYPE \"public\".\"enum_tiles_type\" AS ENUM(''Text & Query'', ''Pie Chart''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"tiles\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_tiles_type\" USING (\"type\"::\"public\".\"enum_tiles_type\");","service":"nextbi-backend","timestamp":"2025-11-13 11:35:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_connectionId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"connectionId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"connectionId\") REFERENCES \"database_connections\" (\"id\") ON DELETE NO ACTION ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:48"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"content\" SET DEFAULT '{\"textRows\":[],\"tableConfig\":{\"selectedTable\":\"\",\"columns\":[]}}';ALTER TABLE \"tiles\" ALTER COLUMN \"content\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"position\" SET DEFAULT '{\"x\":0,\"y\":0,\"w\":6,\"h\":6}';ALTER TABLE \"tiles\" ALTER COLUMN \"position\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" SET DEFAULT '{\"backgroundColor\":\"#ffffff\",\"textColor\":\"#333333\"}';ALTER TABLE \"tiles\" ALTER COLUMN \"styling\" TYPE JSONB;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dashboardId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"dashboardId\" SET NOT NULL;ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dashboardId\") REFERENCES \"dashboards\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:49"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"tiles\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\" DROP CONSTRAINT \"tiles_dataModelId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:50"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"tiles\"  ADD FOREIGN KEY (\"dataModelId\") REFERENCES \"data_models\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:50"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'tiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:50"}
{"level":"debug","message":"Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'text_rows'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:51"}
{"level":"debug","message":"Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_text_rows_type' GROUP BY 1","service":"nextbi-backend","timestamp":"2025-11-13 11:35:51"}
{"level":"debug","message":"Executing (default): SELECT pk.constraint_type as \"Constraint\",c.column_name as \"Field\", c.column_default as \"Default\",c.is_nullable as \"Null\", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as \"Type\", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS \"special\", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS \"Comment\" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'text_rows' AND c.table_schema = 'public'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:51"}
{"level":"debug","message":"Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'text_rows' AND tc.table_catalog = 'neondb'","service":"nextbi-backend","timestamp":"2025-11-13 11:35:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" SET DEFAULT 'text';DO 'BEGIN CREATE TYPE \"public\".\"enum_text_rows_type\" AS ENUM(''header'', ''subheader'', ''text''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE \"text_rows\" ALTER COLUMN \"type\" TYPE \"public\".\"enum_text_rows_type\" USING (\"type\"::\"public\".\"enum_text_rows_type\");","service":"nextbi-backend","timestamp":"2025-11-13 11:35:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" SET DEFAULT '';ALTER TABLE \"text_rows\" ALTER COLUMN \"content\" TYPE TEXT;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:51"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" SET DEFAULT false;ALTER TABLE \"text_rows\" ALTER COLUMN \"isQuery\" TYPE BOOLEAN;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" DROP CONSTRAINT \"text_rows_tileId_fkey\"","service":"nextbi-backend","timestamp":"2025-11-13 11:35:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"tileId\" SET NOT NULL;ALTER TABLE \"text_rows\"  ADD FOREIGN KEY (\"tileId\") REFERENCES \"tiles\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"createdAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:52"}
{"level":"debug","message":"Executing (default): ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" SET NOT NULL;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" DROP DEFAULT;ALTER TABLE \"text_rows\" ALTER COLUMN \"updatedAt\" TYPE TIMESTAMP WITH TIME ZONE;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:53"}
{"level":"debug","message":"Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'text_rows' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;","service":"nextbi-backend","timestamp":"2025-11-13 11:35:53"}
{"level":"info","message":"Database models synced successfully","service":"nextbi-backend","timestamp":"2025-11-13 11:35:53"}
{"level":"info","message":"HTTPS server started on port 3001 in development mode","service":"nextbi-backend","timestamp":"2025-11-13 11:35:53"}
{"level":"info","message":"API URL: http://35.174.81.186:3001","service":"nextbi-backend","timestamp":"2025-11-13 11:35:53"}
